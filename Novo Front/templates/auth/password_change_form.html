{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "Alterar Senha" %} · MVPSale{% endblock %}

{% block content %}
{% include "partials/breadcrumb.html" with b1="Configurações" u1="/settings" b2="Alterar Senha" %}

<h1 class="text-2xl font-semibold mb-5">{% trans "Alterar Senha" %}</h1>

<div class="max-w-lg bg-slate-800/40 backdrop-blur-xl border border-slate-700 rounded-2xl p-6 shadow-lg">
  <form method="post" class="space-y-4">
    {% csrf_token %}
    {% if form.non_field_errors %}
      <div class="text-sm text-rose-400 bg-rose-900/30 border border-rose-800/50 rounded-lg p-2">
        {% for e in form.non_field_errors %}{{ e }}{% endfor %}
      </div>
    {% endif %}

    <div>
      <label class="block text-sm mb-1 text-slate-300 font-medium">{% trans "Senha atual" %}</label>
      {{ form.old_password|add_class:"w-full px-3 py-2 rounded-lg bg-slate-900/70 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-emerald-500 outline-none" }}
      {% for e in form.old_password.errors %}
        <div class="text-xs text-rose-400 mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <div>
      <label class="block text-sm mb-1 text-slate-300 font-medium">{% trans "Nova senha" %}</label>
      {{ form.new_password1|add_class:"w-full px-3 py-2 rounded-lg bg-slate-900/70 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-emerald-500 outline-none" }}
      {% for e in form.new_password1.errors %}
        <div class="text-xs text-rose-400 mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <div>
      <label class="block text-sm mb-1 text-slate-300 font-medium">{% trans "Confirmação da nova senha" %}</label>
      {{ form.new_password2|add_class:"w-full px-3 py-2 rounded-lg bg-slate-900/70 border border-slate-700 text-slate-100 focus:ring-2 focus:ring-emerald-500 outline-none" }}
      {% for e in form.new_password2.errors %}
        <div class="text-xs text-rose-400 mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <div class="flex justify-end">
      <button class="flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 transition text-white rounded-lg px-4 py-2 font-medium shadow">
        <i data-lucide="save" class="w-4 h-4"></i>
        {% trans "Salvar nova senha" %}
      </button>
    </div>
  </form>
</div>

<script src="https://unpkg.com/lucide@latest"></script>
<script>lucide.createIcons();</script>
{% endblock %}
